<html lang="en">
<%- include("./partials/head.ejs") %>

<body>
  <%- include("./partials/nav.ejs") %>

  <main>
    <section id="project">
      <h1>ChatGPT Efficiency Project</h1>
      
      <section>
        <h2>Overview</h2>
        <p>We compare ChatGPTâ€™s performance across History, Social Science, and Computer Security tasks.</p>
      </section>

      <section>
        <h2>Tools & Setup</h2>
        <p>This project uses Node.js, MongoDB, WebSockets, and the OpenAI API.</p>
      </section>

      <!-- BACKEND HOOK: Middleware /api/add -->
      <section id="api-add-test">
        <h2>Quick API Demo</h2>
        <input type="number" id="addA" placeholder="a" />
        <input type="number" id="addB" placeholder="b" />
        <button id="btnAdd">Calculate</button>
        <p id="addResult"></p>
      </section>

      <!-- BACKEND HOOK: Import Questions -->
      <section id="import-questions">
        <h2>Import Questions to Database</h2>
        <button id="btnImport">Import Questions</button>
        <p id="importResult"></p>
      </section>

      <!-- BACKEND HOOK: Start Evaluation -->
      <section id="evaluation-control">
        <h2>Run Evaluation</h2>
        <label for="domainSelect">Domain:</label>
        <select id="domainSelect">
          <option value="">All Domains</option>
          <option value="Computer Security">Computer Security</option>
          <option value="Prehistory">Prehistory</option>
          <option value="Sociology">Sociology</option>
        </select>
        <label for="limitInput">Limit:</label>
        <input type="number" id="limitInput" value="5" min="1" max="100" />
        <button id="btnRunEval">Start Evaluation</button>
        <p id="evalStatus">Status: Idle</p>
      </section>

      <!-- VISUALIZATION HOOK -->
      <section id="results">
        <h2>Evaluation Results</h2>
        <button id="btnLoadResults">Show Charts</button>
        <canvas id="accuracyChart"></canvas>
        <canvas id="timeChart"></canvas>
      </section>

      <!-- WEBSOCKET HOOK -->
      <section id="ws-status">
        <h2>Live Updates</h2>
        <p>Status: <span id="wsStatus">Connecting...</span></p>
        <div>
          <input type="text" id="wsInput" placeholder="Type a message...."/>
          <button id="wsSendBtn">Send</button>
        </div>
        <div id="wsMessages"></div>
      </section>
    </section>
  </main>

  <!--Frontend:Dynamic Assistant(Darrell)-->
  <div id ="assistant-bubble">
    <div class="avatar">AI</div>
    <div class="text" id="assistant-text">Loading...</div>
  </div>

  <%- include("./partials/footer.ejs") %>
  <script src="/js/main.js"></script>
</body>
</html>